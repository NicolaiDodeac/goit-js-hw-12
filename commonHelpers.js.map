{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export function renderPhotoCards(images, galleryEl) {\n  galleryEl.innerHTML = '';\n  // refs.searchFormRef.reset();\n  const markup = images.map(createPhotoCard).join('');\n  galleryEl.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction createPhotoCard({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  return `\n    <li class=\"photo-card\">\n      <a class=\"gallery-link\" href=\"${largeImageURL}\">\n        <img class=\"image\"\n          src=\"${webformatURL}\"\n          alt=\"${tags}\"\n          loading=\"lazy\"\n        />\n      </a>\n      <div class=\"wrapper\">\n        <div class=\"info\">\n          <b class=\"student-info\"><span class=\"atribute\">Likes:</span> ${likes}</b>\n          <b class=\"student-info\"><span class=\"atribute\">Views:</span> ${views}</b>\n          <b class=\"student-info\"><span class=\"atribute\">Comments:</span> ${comments}</b>\n          <b class=\"student-info\"><span class=\"atribute\">Downloads:</span> ${downloads}</b>\n        </div>\n      </div>\n    </li>\n  `;\n}\n\n// import { refs } from '../main';\n\n// export function renderPhotoCards(images) {\n//   refs.galleryEl.innerHTML = '';\n//   refs.searchFormRef.reset();\n\n//   const markup = images.map(createPhotoCard).join('');\n//   refs.galleryEl.insertAdjacentHTML('beforeend', markup);\n// }\n\n// export function createPhotoCard({\n//   webformatURL,\n//   largeImageURL,\n//   tags,\n//   likes,\n//   views,\n//   comments,\n//   downloads,\n// }) {\n//   return `\n//     <li class=\"photo-card\">\n//       <a class=\"gallery-link\" href=\"${largeImageURL}\">\n//         <img\n//           src=\"${webformatURL}\"\n//           alt=\"${tags}\"\n//           loading=\"lazy\"\n//         />\n//       </a>\n//       <div class=\"wrapper\">\n//         <div class=\"info\">\n//           <b class=\"student-info\">Likes: ${likes}</b>\n//           <b class=\"student-info\">Views: ${views}</b>\n//           <b class=\"student-info\">Comments: ${comments}</b>\n//           <b class=\"student-info\">Downloads: ${downloads}</b>\n//         </div>\n//       </div>\n//     </li>\n//   `;\n// }\n","const API_KEY = '44985278-910018cc950880488ff0b70a1';\n\nexport function fetchImages(value) {\n  const URL = `https://pixabay.com/api/?key=${API_KEY}&q=${value}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  return fetch(URL).then(response => {\n    if (!response.ok) {\n      throw new Error('Network response was not ok');\n    }\n    return response.json();\n  });\n}\n","import { renderPhotoCards } from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchImages } from './js/pixabay-api';\n// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst refs = {\n  searchFormRef: document.querySelector('.searchForm'),\n  galleryEl: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader'),\n};\n\nrefs.searchFormRef.addEventListener('submit', searchRequest);\n\nlet gallery = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n});\n\nfunction searchRequest(e) {\n  e.preventDefault();\n  refs.galleryEl.innerHTML = '';\n  refs.loader.style.display = 'block';\n  const searchInput = e.target.elements.search.value.trim();\n  if (searchInput === '') {\n    return;\n  }\n\n  fetchImages(searchInput)\n    .then(data => {\n      if (data.hits.length > 0) {\n        renderPhotoCards(data.hits, refs.galleryEl);\n        refs.searchFormRef.reset();\n        gallery.refresh();\n      } else {\n        iziToast.error({\n          title: '',\n          message: `<div>Sorry, there are no images matching</div> \n          <div>your search query. \n          Please try again!</div>`,\n          position: 'topRight',\n          color: '#ef4040',\n          messageColor: ' #fafafb',\n          messageSize: '16',\n          iconColor: 'white',\n          maxWidth: '432px  ',\n          close: true,\n          closeOnClick: true,\n        });\n      }\n    })\n    .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        message: 'Something went wrong. Please try again later.',\n        position: 'topRight',\n        color: 'red',\n      });\n    })\n    .finally(() => {\n      refs.loader.style.display = 'none';\n    });\n}\n"],"names":["renderPhotoCards","images","galleryEl","markup","createPhotoCard","webformatURL","largeImageURL","tags","likes","views","comments","downloads","API_KEY","fetchImages","value","URL","response","refs","searchRequest","gallery","SimpleLightbox","e","searchInput","data","iziToast","error"],"mappings":"6vBAAO,SAASA,EAAiBC,EAAQC,EAAW,CAClDA,EAAU,UAAY,GAEtB,MAAMC,EAASF,EAAO,IAAIG,CAAe,EAAE,KAAK,EAAE,EAClDF,EAAU,mBAAmB,YAAaC,CAAM,CAClD,CAEA,SAASC,EAAgB,CACvB,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,EAAG,CACD,MAAO;AAAA;AAAA,sCAE6BL,CAAa;AAAA;AAAA,iBAElCD,CAAY;AAAA,iBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yEAMoDC,CAAK;AAAA,yEACLC,CAAK;AAAA,4EACFC,CAAQ;AAAA,6EACPC,CAAS;AAAA;AAAA;AAAA;AAAA,GAKtF,CCnCA,MAAMC,EAAU,qCAET,SAASC,EAAYC,EAAO,CACjC,MAAMC,EAAM,gCAAgCH,CAAO,MAAME,CAAK,2DAE9D,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAY,CACjC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,6BAA6B,EAE/C,OAAOA,EAAS,MACpB,CAAG,CACH,CCFA,MAAMC,EAAO,CACX,cAAe,SAAS,cAAc,aAAa,EACnD,UAAW,SAAS,cAAc,UAAU,EAC5C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEAA,EAAK,cAAc,iBAAiB,SAAUC,CAAa,EAE3D,IAAIC,EAAU,IAAIC,EAAe,aAAc,CAC7C,aAAc,KAChB,CAAC,EAED,SAASF,EAAcG,EAAG,CACxBA,EAAE,eAAc,EAChBJ,EAAK,UAAU,UAAY,GAC3BA,EAAK,OAAO,MAAM,QAAU,QAC5B,MAAMK,EAAcD,EAAE,OAAO,SAAS,OAAO,MAAM,OAC/CC,IAAgB,IAIpBT,EAAYS,CAAW,EACpB,KAAKC,GAAQ,CACRA,EAAK,KAAK,OAAS,GACrBvB,EAAiBuB,EAAK,KAAMN,EAAK,SAAS,EAC1CA,EAAK,cAAc,QACnBE,EAAQ,QAAO,GAEfK,EAAS,MAAM,CACb,MAAO,GACP,QAAS;AAAA;AAAA,mCAGT,SAAU,WACV,MAAO,UACP,aAAc,WACd,YAAa,KACb,UAAW,QACX,SAAU,UACV,MAAO,GACP,aAAc,EACxB,CAAS,CAET,CAAK,EACA,MAAMC,GAAS,CACdD,EAAS,MAAM,CACb,MAAO,QACP,QAAS,gDACT,SAAU,WACV,MAAO,KACf,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbP,EAAK,OAAO,MAAM,QAAU,MAClC,CAAK,CACL"}